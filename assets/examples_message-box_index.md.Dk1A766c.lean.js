import{y as z,a as P}from"./chunks/index.Wp4GJY8y.js";import{d as y,c as b,a as h,b as N,r as j,G as Z,q as E,z as c,A as k,u as d,s as v,x as J,B as n,J as O,E as m,m as r,K as C,I as R,T as G,O as B,M as Y,w as H,y as D,aj as w}from"./chunks/framework.CJrF3YWJ.js";import{l as K,a as x}from"./chunks/index.TJeQxs1C.js";import{A as L,a as A}from"./chunks/theme.DkcbhZnO.js";const Q=()=>{var s,i;let a=2e3;z((i=(s=window.$)==null?void 0:s.amuui)==null?void 0:i.zIndex)?a=window.$.amuui.zIndex+1:(window.$={amuui:{}},window.$.amuui.zIndex=a);function e(t){window.$.amuui.zIndex=t}return{ZIndex:a,setZIndex:e}},U={small:"8px",default:"12px",large:"16px"},W=y({name:"ASpace",props:{size:{type:[String,Number],default:"small"},align:{type:String,default:"start"},direction:{type:String,default:"row"}},emits:[],setup(s,{slots:i,emit:a}){const e=b(()=>{switch(s.size){case"small":case"default":case"large":return U[s.size];default:return s.size+"px"}}),t=b(()=>({alignItems:s.align,gap:e.value,flexDirection:s.direction}));return()=>h("div",{class:"a-space",style:t.value},[i.default&&i.default()])}}),X=s=>(s.install=i=>{const a=s.name;i.component(a,s)},s),ss=X(W),is={class:"a-message-title"},as={class:"title"},ts={class:"a-message-content"},ns={class:"a-message-footer"},es=y({__name:"message-box",props:{title:{type:String,default:"Message"},content:{type:String,default:"Message content"},showMessageBox:{type:Boolean,default:!1},showCancelBtn:{type:Boolean,default:!1},confirmBtnText:{type:String,default:"确认"},cancelBtnText:{type:String,default:"取消"},mantleClose:{type:Boolean,default:!1},field:{type:String,default:"confirm",validator:s=>q.includes(s)}},setup(s,{expose:i}){const a=s,{ZIndex:e,setZIndex:t}=Q(),p=N(e);t(p.value);const l=j({visible:!1,promptValue:"",btnType:"confirm"}),{visible:T}=Z(l),u=o=>{l.visible=o,l.visible?M():$()},I=()=>{l.btnType="confirm",u(!1)},F=()=>{l.btnType="cancel",u(!1)},S=()=>{a.mantleClose&&F()},V=({fied:o})=>{switch(o){case(!o||"confirm"):return B("span",null,a.content);case"prompt":return B("input",{value:l.promptValue,onInput:g=>l.promptValue=g.target.value,class:"messageInput"})}},M=()=>{document.body.style.overflow="hidden"},$=()=>{document.body.style.removeProperty("overflow")};return i({setVisible:u,state:l}),(o,g)=>(E(),c(G,{to:"body"},[h(R,{name:"modal"},{default:k(()=>[d(T)?(E(),v("div",{key:0,class:"a-message-box",style:J([{zIndex:p.value}]),onClick:S},[n("div",{class:"a-message-box-wrapper",onClick:g[0]||(g[0]=O(()=>{},["stop"]))},[n("div",is,[n("div",as,m(s.title),1),h(d(K),{name:"close"})]),n("div",ts,[h(V,{fied:a.field},null,8,["fied"])]),n("div",ns,[h(d(ss),null,{default:k(()=>[s.showCancelBtn?(E(),c(d(x),{key:0,onClick:F},{default:k(()=>[r(m(s.cancelBtnText),1)]),_:1})):C("",!0),h(d(x),{type:"primary",onClick:I},{default:k(()=>[r(m(s.confirmBtnText),1)]),_:1})]),_:1})])])],4)):C("",!0)]),_:1})]))}}),q=["confirm","prompt"];let _=[];const f=s=>{const i=Y(es,s);return new Promise((a,e)=>{_.length>0||ls(i,{resolve:a,reject:e})})};q.forEach(s=>{f[s]=i=>(i.field=s,f(i))});const ls=(s,{resolve:i,reject:a})=>{const e=document.createDocumentFragment(),t=s.mount(e);document.body.appendChild(e),t.setVisible(!0),_.push(t),H(t.state,p=>{if(!p.visible){switch(p.btnType){case"cancel":a(!1);break;case"confirm":i(p.promptValue);break}setTimeout(()=>{s.unmount(t)},100),_=[]}})},hs=y({__name:"Basic",setup(s){const i=()=>{f({title:"Title",content:"This is a message",showCancelBtn:!1}).then(()=>{P.message({message:"action: confirm"})})};return(a,e)=>{const t=D("a-button");return E(),c(t,{type:"info",onClick:i},{default:k(()=>[r("click to show a message")]),_:1})}}}),ps=y({__name:"Confirm",setup(s){const i=()=>{L({title:"confirm",content:"you will be click the button to close this messagebox, are you ready?",showMessageBox:!0,showCancelBtn:!0}).then(()=>{A.message({message:"this is a confirm message"})}).catch(()=>{A.message({message:"action: cancel"})})};return(a,e)=>{const t=D("a-button");return E(),c(t,{type:"success",onClick:i},{default:k(()=>[r("Click to open the Message Box")]),_:1})}}}),ks=n("h1",{id:"messagebox-消息弹框",tabindex:"-1"},[r("MessageBox 消息弹框 "),n("a",{class:"header-anchor",href:"#messagebox-消息弹框","aria-label":'Permalink to "MessageBox 消息弹框"'},"​")],-1),Es=n("p",null,"模拟系统的消息提示框而实现的一套模态对话框组件，用于消息提示、确认消息和提交内容。",-1),rs=n("h2",{id:"消息提示",tabindex:"-1"},[r("消息提示 "),n("a",{class:"header-anchor",href:"#消息提示","aria-label":'Permalink to "消息提示"'},"​")],-1),os=n("p",null,"当用户进行操作时会被触发，该对话框中断用户操作，直到用户确认知晓后才可关闭。",-1),ds={class:"example"},gs=w("",3),cs={class:"example"},ys=w("",1),bs=JSON.parse('{"title":"MessageBox 消息弹框","description":"","frontmatter":{},"headers":[],"relativePath":"examples/message-box/index.md","filePath":"examples/message-box/index.md"}'),us={name:"examples/message-box/index.md"},Cs=Object.assign(us,{setup(s){return(i,a)=>(E(),v("div",null,[ks,Es,rs,os,n("div",ds,[h(hs)]),gs,n("div",cs,[h(ps)]),ys]))}});export{bs as __pageData,Cs as default};
